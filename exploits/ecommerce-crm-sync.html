<html>
    <head>
        <title>Integrating e-commerce subscription data to ActiveCampaign</title>
        <link rel="stylesheet" href="/styles.css">
    </head>
    <body>
        <div class="page-center-text">
            <h1>Integrating e-commerce subscription data to ActiveCampaign</h1>
            <h2>Context</h2>
            <p>
                We'd moved our client from Klaviyo to ActiveCampaign for more capability and complex customer journeys. 
                This client used Shopify to sell supplements, and an add-on which allowed customers to subscribe so they never ran out of supplements.
            </p>
            <p>
                But moving this client came with a problem that we didn't anticipate, the subscription addon wouldn't sync with ActiveCampaign. 
                This was a major problem because our customer journey relied on ActiveCampaign knowing what the customer was subscribed to so it could send them the correct content.
            </p>
            <p>
                We could export the info from Shopify manually, and then upload it to ActiveCampaign, but this process was long and wasn't sustainable when the system ideally needed new data as soon as it was available. 
            </p>
            <p>
                We needed a way to sync subscription info with the new CRM and use a system that would account for multiple subscriptions, since this client sold multiple product subscriptions. 
            </p>
            <br>
            <h2>Solution</h2>
            <p>
                My immediate idea was to make the subscription app send a webhook over to our server, which would then use a script to translate that info and update ActiveCampaign. 
                However, I soon realised that plan wouldn't work because the client was using a subscription plan which wouldn't support webhooks. 
                We considered telling our client they needed to upgrade their subscription plan, but this would have cost them an extra 400 USD per month, so I began looking into other options.
            </p>
            <p>
                I looked at using Zapier to integrate it, but that was going to also be expensive, as well as adding another item to the tech stack which was out of our control. 
                My only option at this point was to use the API provided by the subscription app. 
                This would prove to be challenging as well, since it was designed in a way that as opposed to giving all information at once, it would reference another API endpoint, which would require another call, adding extra complexity, along with the rate limits.
            </p>
            <p>
                In the end, this was the how final solution worked :
                <ol>
                    <li>
                        A PHP script written on our server is called every Saturday by a cron job.
                    </li>
                    <li>
                        The script collects a list of all subscriptions the client has.
                    </li>
                    <li>
                        The script comes up with tags for each of these subscriptions using a predefined template, for example <code>Subscription - (product) - (status of subscription)</code>.
                    </li>
                    <li>
                        It gets IDs for these tags in ActiveCampaign, since ActiveCampaign will only accept tags as IDs.
                    </li>
                    <li>
                        It goes back to the subscription app and individually queries the user ID for each subscription to get an email for the subscriber.
                    </li>
                    <li>
                        Every contact matched in ActiveCampaign with a subscription has all their subscription tags removed to prevent old data from causing any confusion.
                    </li>
                    <li>
                        It then applies the current tags to all contacts.
                    </li>
                </ol>
            </p>
            <br>
            <h2>Conclusion</h2>
            <p>
                This script continued to prove its usefulness, saving us at least an hour every week of manually uploading data, which amounted to savings of Â£280 every month. 
                An automated process also meant no chance of human error occuring which might result in subscribers receiving irrelevant content.
            </p>
            <p>
                Using a script also gave us the benefit of seeing multiple subscription statuses, meaning we could see who had unsubscribed or paused their subscription, as well as those who were currently subscribed.
            </p>
    </body>
</html>